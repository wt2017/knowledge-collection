┌────────────── 前端 / API Gateway ──────────────┐
│  Web／企业微信／飞书／Slack                      │
└────────┬──────────────────────┬────────────────┘
         │1.自然语言提问        │3.最终答案+溯源
         ▼                       ▲
┌──────────────────────────────────────────────┐
│   LangGraph（决策编排层）                    │
│  ┌─────────────┐  ┌──────────────┐          │
│  │条件分支节点 ○─→│人工审批节点  □│          │
│  └─────┬───────┘  └──────┬───────┘          │
│        ▼2.调用工具       │                  │
│  ┌──────────────────────┴──────┐            │
│  │  KnowledgeTool              │            │
│  │  (LlamaIndex QueryEngine)   │            │
│  └──────────────┬──────────────┘            │
│                 ▼4.返回片段+元数据           │
│  ┌──────────────────────────────┐            │
│  │  Memory(Redis)               │            │
│  │  Callback(LangSmith)         │            │
│  └──────────────────────────────┘            │
└──────────────────┬───────────────────────────┘
                   │5.原始文档/表格/图
                   ▼
┌──────────────────────────────────────────────┐
│   LlamaIndex（数据层）                       │
│  ┌─────────────┐ ┌──────────────┐ ┌────────┐ │
│  │ 180+ Loaders│ │Hierarchical/ │ │KG Index│ │
│  │LlamaParse…  │ │BM25+Vector   │ │Neo4j   │ │
│  └─────────────┘ └──────────────┘ └────────┘ │
│  冷热分级存储：对象存储 + 向量库 + 图库       │
└──────────────────────────────────────────────┘

总结：
LlamaIndex 把“企业混沌数据”变成“可随时召回的知识库”
LangChain/LangGraph 把“召回的知识”接进“带记忆、带工具、带人工网关”的复杂决策流
